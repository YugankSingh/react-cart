(this["webpackJsonpcart2.0"]=this["webpackJsonpcart2.0"]||[]).push([[0],{32:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(9),c=a.n(n),r=a(18),o=a.n(r),s=a(10),i=a.n(s),d=a(15),l=a(19),m=a(20),p=a(11),u=a(22),g=a(21),h=a(3),j={image:{height:110,width:110,borderRadius:10,background:"#ccc",objectFit:"cover"}},b=function(e){var t=e.product,a=t.price,n=t.title,c=t.qty,r=t.img,o=e.onIncreaseQuantity,s=e.onDecreaseQuantity,i=e.index,d=e.onDeleteProduct;return Object(h.jsxs)("div",{className:"cart-item",children:[Object(h.jsx)("div",{className:"left-block",children:Object(h.jsx)("img",{alt:"product",src:r,style:j.image})}),Object(h.jsxs)("div",{className:"right-block",children:[Object(h.jsx)("div",{style:{fontSize:"1.56em"},children:n}),Object(h.jsxs)("div",{style:{color:"#777"},children:["Rs ",a]}),Object(h.jsxs)("div",{style:{color:"#777"},children:["Qty: ",c]}),Object(h.jsxs)("div",{className:"cart-item-actions",children:[Object(h.jsx)("img",{alt:"increase",className:"action-icons",src:"https://image.flaticon.com/icons/png/128/1237/1237946.png",onClick:function(){return o(i)}}),Object(h.jsx)("img",{alt:"decrease",className:"action-icons",src:"https://t4.ftcdn.net/jpg/03/16/36/03/240_F_316360373_uWcj5rZxsUbmoAogMfow8EZhUOn7FTM0.jpg",onClick:function(){return s(i)}}),Object(h.jsx)("img",{alt:"delete",className:"action-icons",src:"https://t4.ftcdn.net/jpg/00/98/26/11/240_F_98261175_Sv69O3rZsHApYkjAdrWbgQixYHwyZyOr.jpg",onClick:function(){return d(i)}})]})]})]})},f=function(e){var t=e.products,a=e.onIncreaseQuantity,n=e.onDecreaseQuantity,c=e.onDeleteProduct;return Object(h.jsx)("div",{className:"cart",children:t.map((function(e,t){return Object(h.jsx)(b,{product:e,index:t,onIncreaseQuantity:a,onDecreaseQuantity:n,onDeleteProduct:c},t)}))})},_={cartIcon:{height:32,marginRight:20},nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"flex-end",alignItems:"center"},cartIconContainer:{position:"relative"},cartCount:{background:"yellow",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:0,top:-9}},O=function(e){var t=e.productCount;return Object(h.jsx)("div",{style:_.nav,className:"Navbar",children:Object(h.jsxs)("div",{style:_.cartIconContainer,children:[Object(h.jsx)("img",{style:_.cartIcon,alt:"CartIcon",src:"https://cdn0.iconfinder.com/data/icons/minimal-set-seven/32/minimal-49-512.png"}),Object(h.jsx)("span",{style:_.cartCount,children:t})]})})},v=a(12),y=function(e){Object(u.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleIncreaseQuantity=function(t){var a=e.state.products[t];e.db.collection("products").doc(a.id).update({qty:a.qty+1}).then((function(){console.log("Document Updated Successfully")})).catch((function(e){return console.log("Error",e)}))},e.handleDecreaseQuantity=function(t){var a=e.state.products[t];a.qty<=1||e.db.collection("products").doc(a.id).update({qty:a.qty-1}).then((function(){console.log("Document Updated Successfully")})).catch((function(e){return console.log("Error",e)}))},e.handleDeleteProduct=function(t){var a=e.state.products[t];e.db.collection("products").doc(a.id).delete().then((function(){console.log("Document Deleted Successfully")})).catch((function(e){return console.log("Error",e)}))},e.getCartProductsCount=function(){var t=e.state.products,a=0;return t.forEach((function(e){return a+=e.qty})),a},e.getTotalCartPrice=function(){var t=e.state.products,a=0;return t.forEach((function(e){a+=e.price*e.qty})),a},e.potentialProducts=[{name:"Laptop",price:89e3,imageUrl:"https://images-na.ssl-images-amazon.com/images/I/61OvV27-44L._AC_SL1500_.jpg"},{name:"youPhone",price:15e4,imageUrl:"https://store.storeimages.cdn-apple.com/4668/as-images.apple.com/is/iphone-12-pro-blue-hero?wid=940&hei=1112&fmt=png-alpha&.v=1604021661000"},{name:"Chocolate",price:99,imageUrl:"https://chocolatecoveredkatie.com/wp-content/uploads/2020/08/Homemade-Chocolate-Bars.jpg"},{name:"Keyboard",price:6e3,imageUrl:"https://massdrop-s3.imgix.net/product-images/drop-ctrl-mechanical-keyboard/FP/CH2mwjcSQiqeHYSZMUbg_ctrlpc.png?auto=format&fm=jpg&fit=crop&w=600&h=315&dpr=1&bg=f0f0f0"},{name:"Zero - One | Book",price:1e3,imageUrl:"https://images-na.ssl-images-amazon.com/images/I/71m-MxdJ2WL.jpg"},{name:"sticky notes",price:200,imageUrl:"https://images-na.ssl-images-amazon.com/images/I/61lFF-CgVwL._SY450_.jpg"},{name:"Deskmat",price:2e3,imageUrl:"https://cdn.dribbble.com/users/66340/screenshots/13895806/deskmat.jpg"},{name:"Sanitizer",price:200,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_MsPDOg6qp1yxnKR_EEAheTvYKk130aJNRw&usqp=CAU"},{name:"Mask",price:100,imageUrl:"https://images-na.ssl-images-amazon.com/images/I/6190esdtZeL._SX342_.jpg"},{name:"Shoes",price:3e3,imageUrl:"https://images-na.ssl-images-amazon.com/images/I/81QnGdrGwsL._UL1500_.jpg"},{name:"Vaseline",price:30,imageUrl:"https://images-na.ssl-images-amazon.com/images/I/51a86F%2BN3FL._SY355_.jpg"},{name:"Dove Soap",price:40,imageUrl:"https://5.imimg.com/data5/WA/SI/PR/SELLER-4312448/dove-soap-500x500.jpg"},{name:"MX master 3",price:7e3,imageUrl:"https://images-na.ssl-images-amazon.com/images/I/614w3LuZTYL._SL1500_.jpg"},{name:"Herman Miller Aeron",price:12e4,imageUrl:"https://www.hermanmiller.com/content/dam/hmicom/page_assets/products/aeron_chairs/mh_prd_ovw_aeron_chairs.jpg.rendition.480.360.jpg"},{name:"LinkedIn Premium",price:2e3,imageUrl:"https://pbs.twimg.com/profile_images/1082424539492073477/exU8rYn8_400x400.jpg"}],e.getRandomProduct=Object(d.a)(i.a.mark((function t(){var a,n,c,r,o,s,d,l,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Math.random()<.6)){t.next=3;break}return a=Object(p.a)(e),n=a.potentialProducts,t.abrupt("return",n[Math.floor(Math.random()*n.length)]);case 3:return t.next=5,fetch("https://random-data-api.com/api/commerce/random_commerce");case 5:return c=t.sent,t.next=8,c.json();case 8:return r=t.sent,o=(o=r.product_name.trim()).substring(o.lastIndexOf(" ")),s="https://pixabay.com/api/?key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/react-cart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PIXABAY_API_KEY,"&q=").concat(encodeURI(o)),t.next=14,fetch(s);case 14:return d=t.sent,t.next=17,d.json();case 17:return l=t.sent,m=l.hits[Math.floor(Math.random()*l.hits.length)].webformatURL,t.abrupt("return",{imageUrl:m,name:o,price:Math.floor(70*r.price)});case 20:case"end":return t.stop()}}),t)}))),e.addProduct=Object(d.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getRandomProduct();case 2:a=t.sent,e.db.collection("products").add({img:a.imageUrl,price:a.price,qty:1,title:a.name,createdAt:(new Date).getTime()}).then((function(e){console.log("product has been added")})).catch((function(e){return console.log("Error ",e)}));case 4:case"end":return t.stop()}}),t)}))),e.state={products:[],loading:!0},e.db=v.a.firestore(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.db.collection("products").orderBy("createdAt","desc").onSnapshot((function(t){var a=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));console.log(a),e.setState({products:a,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.products,a=e.loading;return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(O,{productCount:this.getCartProductsCount()}),Object(h.jsx)("button",{onClick:this.addProduct,style:{padding:20,fontSize:20,margin:10,backgroundColor:"rgb(255, 255, 58)"},children:"Add Random Product"}),Object(h.jsx)(f,{products:t,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),a&&Object(h.jsx)("h1",{children:" Loading Products ... "}),Object(h.jsxs)("div",{style:{fontSize:20,padding:10},children:["TOTAL : ",this.getTotalCartPrice()]})]})}}]),a}(c.a.Component),x=(a(32),a(33),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/react-cart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_API_KEY,authDomain:"cart-2be0c.firebaseapp.com",projectId:"cart-2be0c",storageBucket:"cart-2be0c.appspot.com",messagingSenderId:"18397767885",appId:"1:18397767885:web:cfd4f05010de9f58ebe184"});v.a.initializeApp(x),o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.f1ef9034.chunk.js.map